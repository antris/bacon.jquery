!function(a){"function"==typeof define&&define.amd?define("/Bacon.JQuery.Bindings",[],function(){return a()}):"object"==typeof exports?module.exports=a():a()}(function(){"use strict";var a,b,c,d,e,f,g,h,i,j=[].slice;return e=function(a){return a},h=function(a){return a.length>0},c=function(a,b,c){var d,e,f;for(e=0,f=a.length;f>e;e++)d=a[e],b=c(b,d);return b},g=function(a){return a instanceof Bacon.Property},d=0,f=1,b=Bacon.Model=Bacon.$.Model=function(c){var e,g,h,i,j;return h=0,g=new Bacon.Bus,i=new Bacon.Bus,j=Bacon.update({initial:!0},[g],function(a,b){var c,e,f;return f=a.value,e=b.source,c=b.f,{source:e,value:c(f),modCount:++d}},[i],function(a,b){return b}).changes().toProperty(),e=j.map(".value").skipDuplicates(),e.id=f++,e.addSyncSource=function(a){return i.plug(a.filter(function(a){var b;return b=a.modCount!==h,h=a.modCount,b}))},e.apply=function(a){return g.plug(a.toEventStream().map(function(b){return{source:a,f:b}})),j.changes().filter(function(b){return b.source!==a}).map(function(a){return a.value})},e.addSource=function(a){return e.apply(a.map(function(a){return function(){return a}}))},e.modify=function(a){return e.apply(Bacon.once(a))},e.set=function(a){return e.modify(function(){return a})},e.syncEvents=function(){return j.toEventStream()},e.bind=function(a){return this.addSyncSource(a.syncEvents()),a.addSyncSource(this.syncEvents())},e.onValue(),arguments.length>=1&&e.set(c),e.lens=function(c){var d,f;return c=a(c),d=b(),f=a.objectLens("value"),this.addSyncSource(e.sampledBy(d.syncEvents(),function(a,b){return f.set(b,c.set(a,b.value))})),d.addSyncSource(this.syncEvents().map(function(a){return f.set(a,c.get(a.value))})),d},e},b.combine=function(c){var d,e,f,h,i,j;if("object"!=typeof c)return b(c);if(g(c))return c;d=c instanceof Array?[]:{},i=b(d);for(e in c)j=c[e],f=a.objectLens(e),h=i.lens(f),h.bind(b.combine(j));return i},Bacon.Binding=Bacon.$.Binding=function(a){var b,c,d,e,f,g,h;return e=a.initValue,d=a.get,b=a.events,h=a.set,f=b.map(d),null!=e?h(e):e=d(),g=Bacon.Model(e),c=g.addSource(f),c.assign(h),g},a=Bacon.Lens=Bacon.$.Lens=function(b){return"object"==typeof b?b:a.objectLens(b)},a.id=a({get:function(a){return a},set:function(a,b){return b}}),a.objectLens=function(b){var c,d;return d=function(b){return a({get:function(a){return a[b]},set:function(a,c){return a=i(a),a[b]=c,a}})},c=b.split(".").filter(h),a.compose.apply(a,c.map(d))},a.compose=function(){var b,d;return b=1<=arguments.length?j.call(arguments,0):[],d=function(b,c){return a({get:function(a){return c.get(b.get(a))},set:function(a,d){var e,f;return e=b.get(a),f=c.set(e,d),b.set(a,f)}})},c(b,a.id,d)},i=function(a){var b,c,d;b=a instanceof Array?[]:{};for(c in a)d=a[c],b[c]=d;return b},$.fn.asEventStream=Bacon.$.asEventStream,Bacon.$.textFieldValue=function(a,b){var c,d,e;return h=function(a){return a.length>0},e=function(){return a.val()},c=function(){return Bacon.interval(50).take(10).map(e).filter(h).take(1)},d=a.asEventStream("keyup input").merge(a.asEventStream("cut paste").delay(1)).merge(c()),Bacon.Binding({initValue:b,get:e,events:d,set:function(b){return a.val(b)}})},Bacon.$.checkBoxValue=function(a,b){return Bacon.Binding({initValue:b,get:function(){return!!a.attr("checked")},events:a.asEventStream("change"),set:function(b){return a.attr("checked",b)}})},Bacon.$.selectValue=function(a,b){return Bacon.Binding({initValue:b,get:function(){return a.val()},events:a.asEventStream("change"),set:function(b){return a.val(b)}})},Bacon.$.radioGroupValue=function(a,b){return Bacon.Binding({initValue:b,get:function(){return a.filter(":checked").first().val()},events:a.asEventStream("change"),set:function(b){return a.each(function(a,c){return c.value===b?$(c).attr("checked",!0):$(c).removeAttr("checked")})}})},Bacon.$.checkBoxGroupValue=function(a,b){return Bacon.Binding({initValue:b,get:function(){return a.filter(":checked").map(function(a,b){return $(b).val()}).toArray()},events:a.asEventStream("change"),set:function(b){return a.each(function(a,c){return $(c).attr("checked",b.indexOf($(c).val())>=0)})}})},Bacon.$.ajax=function(a,b){return Bacon.fromPromise($.ajax(a),b)},Bacon.$.ajaxGet=function(a,b,c,d){return Bacon.$.ajax({url:a,dataType:c,data:b},d)},Bacon.$.ajaxGetJSON=function(a,b,c){return Bacon.$.ajax({url:a,dataType:"json",data:b},c)},Bacon.$.ajaxPost=function(a,b,c,d){return Bacon.$.ajax({url:a,dataType:c,data:b,type:"POST"},d)},Bacon.$.ajaxGetScript=function(a,b){return Bacon.$.ajax({url:a,dataType:"script"},b)},Bacon.$.lazyAjax=function(a){return Bacon.once(a).flatMap(Bacon.$.ajax)},Bacon.Observable.prototype.ajax=function(){return this.flatMapLatest(Bacon.$.ajax)},$.fn.extend({keydownE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["keydown"].concat(j.call(a)))},keyupE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["keyup"].concat(j.call(a)))},keypressE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["keypress"].concat(j.call(a)))},clickE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["click"].concat(j.call(a)))},dblclickE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["dblclick"].concat(j.call(a)))},mousedownE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["mousedown"].concat(j.call(a)))},mouseupE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["mouseup"].concat(j.call(a)))},mouseenterE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["mouseenter"].concat(j.call(a)))},mouseleaveE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["mouseleave"].concat(j.call(a)))},mousemoveE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["mousemove"].concat(j.call(a)))},mouseoutE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["mouseout"].concat(j.call(a)))},mouseoverE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["mouseover"].concat(j.call(a)))},resizeE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["resize"].concat(j.call(a)))},scrollE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["scroll"].concat(j.call(a)))},selectE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["select"].concat(j.call(a)))},changeE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["change"].concat(j.call(a)))},submitE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["submit"].concat(j.call(a)))},blurE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["blur"].concat(j.call(a)))},focusE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["focus"].concat(j.call(a)))},focusinE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["focusin"].concat(j.call(a)))},focusoutE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["focusout"].concat(j.call(a)))},loadE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["load"].concat(j.call(a)))},unloadE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],this.asEventStream.apply(this,["unload"].concat(j.call(a)))}}),$.fn.extend({animateE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.animate.apply(this,a).promise())},showE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.show.apply(this,a).promise())},hideE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.hide.apply(this,a).promise())},toggleE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.toggle.apply(this,a).promise())},fadeInE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.fadeIn.apply(this,a).promise())},fadeOutE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.fadeOut.apply(this,a).promise())},fadeToE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.fadeTo.apply(this,a).promise())},fadeToggleE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.fadeToggle.apply(this,a).promise())},slideDownE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.slideDown.apply(this,a).promise())},slideUpE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.slideUp.apply(this,a).promise())},slideToggleE:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],Bacon.fromPromise(this.slideToggle.apply(this,a).promise())}}),Bacon.$});